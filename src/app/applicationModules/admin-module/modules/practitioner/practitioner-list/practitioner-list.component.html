<app-header></app-header>
<app-sidebar></app-sidebar>
<div class="main-wrapper">
  <div class="an-page-content">
    <div class="an-content-body">
      <div class="an-content-body-inner">
        <div class="an-body-topbar">
          <div class="an-page-title">
            <div class="row">
              <div class="col-sm-12">
                <div class="row justify-content-between">
                  <div class="col-lg-12 col-xl-3">
                    <h2 class="main-title mb-3 mb-xl-0">
                      {{ 'PRACTITIONER_LIST' | translate }}
                    </h2>
                  </div>
                  <div class="col-lg-12 col-xl-9">
                    <div class="d-lg-flex align-items-center justify-content-lg-end">
                      <div class=" mb-2 search-box mb-lg-0">
                        <mat-form-field class="table-search">
                          <input
                            matInput
                            (keyup)="applyFilter($event)"
                            placeholder="{{'SEARCH' | translate}}"
                            #filterName
                            name="filterName"
                          />
                        </mat-form-field>
                      </div>
                      <button *ngIf="!isClinicAdmin && isDoctorAdder"
                        mat-raised-button
                        (click)="addPractitionerPage()"
                        class="ml-4 btn-add btn-primary"
                      >
                        <i class="fa fa-plus" aria-hidden="true"></i> {{ 'ADD' | translate }} {{ 'PRACTITIONER' | translate }}
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-3">
                <form class="search_in_ad" action="/action_page.php">
                  <input type="text" placeholder="Search.." class="form-control search_spe" name="search">
                  <img src="../../../../../../assets/images/search.svg" class="src_icon">
                </form>
              </div>
              <div class="col-md-2">
                <div class="">
                  <select class="form-control ">
                    <option>Speciality </option>
                    <option>Ketchup</option>
                    <option>Barbecue</option>
                  </select>
                </div>
              </div>
              <div class="col-md-2">
                <div class="">
                  <select class="form-control">
                    <option>Status</option>
                    <option>Ketchup</option>
                    <option>Barbecue</option>
                  </select>
                </div>
              </div>
              <div class="col-md-2">
                <div class="">
                  <select class="form-control exp_ort">
                    <option>Export</option>
                    <option>Ketchup</option>
                    <option>Barbecue</option>
                  </select>
                </div>
              </div>
              <div class="col-md-3 text-right">
                <button type="button" class="btn btn-primary schedul">+ Schedule Meeting</button>
              </div>

            </div>
          </div>
        </div>
        <div class="table-body-inner">
          <div class="card">
            <div class="card-body">
              <div class="row">
                <div *ngIf="!isClinicAdmin" class="col-md-5">
                  <mat-form-field class="table-select" appearance="outline">
                    <mat-select
                    placeholder="{{ 'CLINIC' | translate }}"
                      (selectionChange)="ClinicChange(selectedClinic)"
                      [(value)]="selectedClinic"
                      #singleSelect
                    >
                      <mat-select-search   placeholderLabel="{{'SEARCH' | translate}}"
                        (keyup)="clinicSearch($event)"
                      ></mat-select-search>
                      <!-- <mat-option
                        *ngFor="let clinic of clinicsListSearch"
                        [value]="clinic.id"
                      >
                        {{ clinic.name }}
                      </mat-option> -->
                    </mat-select>
                  </mat-form-field>
                </div>
               
              </div>
              <div *ngIf="dataSource" class="table-responsive theme-table">
                <table
                  mat-table
                  [dataSource]="dataSource"
                  matSort
                  class="table"
                >
                  <ng-container matColumnDef="fullName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                      {{ 'NAME' | translate }}
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.user.fullName }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="clinicName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                      {{ 'CLINIC' | translate }} {{ 'NAME' | translate }}
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.user.clinic.name }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="email">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                      {{ 'EMAIL' | translate }}
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.user.email }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="Specialty">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                      {{ 'SPECIALTY' | translate }}
                    </th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.primarySpeciality }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="Status">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                      {{ 'STATUS' | translate }}
                    </th>
                    <td mat-cell *matCellDef="let element" [ngStyle]="{'color': getPractitionerRandomColorStatus(element.isActive)}">
                      {{ (element.isActive ? "ACTIVE" : "INACTIVE") | translate }}
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="Id">
                    <th mat-header-cell *matHeaderCellDef> {{ 'ACTION' | translate }}</th>
                    <td  mat-cell *matCellDef="let element" class="table-action">
                      <div *ngIf="!isClinicAdmin">
                        <a *ngIf="isDoctorUpdater"
                        class="icon-set tooltip-custom"
                        data-title="Edit"
                        (click)="
                          getPageType(
                            element.practitionerId,
                            element.id,
                            'edit'
                          )
                        "
                      >
                        <img
                          src="../../../../../../../assets/images/edit_ico.svg"
                          alt="edit"
                        />
                      </a>
                      <a
                        class="icon-set tooltip-custom"
                        data-title="View"
                        (click)="
                          getPageType(
                            element.practitionerId,
                            element.id,
                            'view'
                          )
                        "
                      >
                        <img
                          src="../../../../../../../assets/images/view_ico.svg"
                          alt="view"
                        />
                      </a>
                      <a *ngIf="isDoctorDeleter"
                        class="icon-set tooltip-custom"
                        data-title="Delete"
                        (click)="deletePractitioner(element.id)"
                      >
                        <img
                          class="trash_ico"
                          src="../../../../../../../assets/images/trash_ico.svg"
                          alt="Delete"
                        />
                      </a>
                      </div>

                      <div *ngIf="isClinicAdmin">
                        <a [routerLink]="['/meeting/add-admin/' + element.userId]"
                        ><button
                          mat-raised-button
                          class="btn-add btn-primary"
                        >
                        {{ 'ADD' | translate }}  {{ 'MEETING' | translate }}
                        </button>
                      </a>
                      </div>
                      
                    </td>
                  </ng-container>
                  <tr
                    mat-header-row
                    *matHeaderRowDef="displayedColumns; sticky: true"
                  ></tr>
                  <tr
                    mat-row
                    *matRowDef="let row; columns: displayedColumns"
                  ></tr>
                </table>
                <div
                  class="tbl-no-record"
                  *ngIf="selectedClinic == 0 && PractitionerList.length == 0"
                >
                {{ 'NO_RECORD_FOUND' | translate }}
                </div>
                <div
                  class="tbl-no-record"
                  *ngIf="
                    selectedClinic != 0 && filterPractitionerList.length == 0
                  "
                >
                {{ 'NO_RECORD_FOUND' | translate }}
                </div>
                <div class="tbl-no-record" *ngIf="dataSource && dataSource.length == 0">
                  {{ 'NO_RECORD_FOUND' | translate }}
                </div>
              </div>
              <mat-paginator
              [pageSize]="25"
              [pageSizeOptions]="[25, 50, 100]"
              ></mat-paginator>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <app-footer></app-footer>
</div>
